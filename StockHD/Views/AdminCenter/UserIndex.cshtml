@model IEnumerable<StockUser>

@{
    ViewData["Title"] = "Users";
}

<nav class="nava navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid navb">
        <a class="navbar-brand nav-link active" asp-controller="AdminCenter" asp-action="Index"><h3>Admin Center</h3></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-link active" aria-current="page" asp-controller="Roles" asp-action="Index"><h5>Rôles</h5></a>
                <a class="nav-link active" aria-current="page" asp-controller="AdminCenter" asp-action="UserIndex"><h5>Utilisateurs</h5></a>
            </div>
        </div>
    </div>
</nav>

<div class="mb-5 me-5 m-3">

    <h1 class="display-4 text-center">Utilisateurs</h1>

</div>

<hr class="mb-5" />

<div class="mt-3" style="display:inline">
    <div class="mb-4" style="margin-right:94%">
        <div class="p-0 m-1 mb-3" style="float: right">
            <a class="btn btn-primary" style="margin-right : 100%" href="@Url.Action("Create_User")">Nouveau</a>
        </div>
    </div>
    <div class="mb-4" style="margin-left : 55%">
        <form class="form-inline my-2 my-lg-0" style="display : inline-flex">
            <input class="form-control mr-sm-2" type="search" placeholder="Recherche" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit"><i class="bi bi-search"></i></button>
        </form>
    </div>

    <div style="margin-right:20%">
        <table class="table table-striped">

            <thead>
                <tr>
                    <th>@Html.DisplayNameFor(Model => Model.UserName)</th>
                    <th>@Html.DisplayNameFor(Model => Model.Email)</th>
                    <th>@Html.DisplayNameFor(Model => Model.Roles)</th>
                    <th></th>
                </tr>
            </thead>

            <tbody>
                @{
                    foreach (var item in Model)
                    {
                        <tr>
                            <td>@Html.DisplayFor(modelItem => item.UserName)</td>
                            <td>@Html.DisplayFor(modelItem => item.Email)</td>
                            <td>@Html.DisplayFor(modelItem => item.Roles)</td>
                            <td>
                                <a href="@Url.Action("Detail_User", "AdminCenter", new{id = item.Id})"><i class="fs-5 bi-info-circle"></i></a>
                                <a href="@Url.Action("Edit_User", "AdminCenter", new{id = item.Id})"><i class="fs-5 bi-pencil-square"></i></a>
                                <a href="@Url.Action("Delete_User", "AdminCenter", new{id = item.Id})"><i class="fs-5 bi-trash3"></i></a>
                            @* 
                            Permet d'indiquer l'action, le contrôleur et la valeur
                            ca crée ensuite une url en fonction de la nomenclature du Startup
                            *@
                            </td>
                        </tr>
                    }
                }

            </tbody>
        </table>
    </div>
</div>


<style>

    .navb {
        background-color: darkgray;
    }

    .nava {
        padding: 0;
        margin-left: -12px;
    }

</style>